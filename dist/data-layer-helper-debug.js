(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';function f(a,b){switch(b){case 1:console.log(a);break;case 2:console.warn(a);break;case 3:console.error(a)}};/*
 jQuery v1.9.1 (c) 2005, 2012
 jQuery Foundation, Inc. jquery.org/license.
*/
var g=/\[object (Boolean|Number|String|Function|Array|Date|RegExp|Arguments)\]/;function k(a){return null==a?String(a):(a=g.exec(Object.prototype.toString.call(Object(a))))?a[1].toLowerCase():"object"}function l(a,b){return Object.prototype.hasOwnProperty.call(Object(a),b)}function p(a){if(!a||"object"!=k(a)||a.nodeType||a==a.window)return!1;try{if(a.constructor&&!l(a,"constructor")&&!l(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}for(var b in a);return void 0===b||l(a,b)};function q(a,b){var d={},c=d;a=a.split(".");for(var e=0;e<a.length-1;e++)c=c[a[e]]={};c[a[a.length-1]]=b;return d}function r(a,b){var d=!a._clear,c;for(c in a)if(l(a,c)){var e=a[c];"array"===k(e)&&d?("array"===k(b[c])||(b[c]=[]),r(e,b[c])):p(e)&&d?(p(b[c])||(b[c]={}),r(e,b[c])):b[c]=e}delete b._clear};/*
 Copyright 2012 Google Inc. All rights reserved. */
function t(a,b,d){b=void 0===b?{}:b;d=void 0===d?!1:d;"function"===typeof b?(f("Legacy constructor was used. See README for latest usage.",2),b={listener:b,listenToPast:d,processNow:!0,commandProcessors:{}}):b={listener:b.listener||function(){},listenToPast:b.listenToPast||!1,processNow:void 0===b.processNow?!0:b.processNow,commandProcessors:b.commandProcessors||{}};this.a=a;this.l=b.listener;this.j=b.listenToPast;this.g=this.i=!1;this.b={};this.f=[];this.c=b.commandProcessors;this.h=w(this);b.processNow&&
this.process()}
t.prototype.process=function(){this.i&&f("Process has already been run. This method should only run a single time to prepare the helper.",3);var a=this.b;this.registerProcessor("set",function(){if(1===arguments.length&&"object"===k(arguments[0])){var c=arguments[0];for(var e in c)r(q(e,c[e]),a)}else 2===arguments.length&&"string"===k(arguments[0])&&(c=q(arguments[0],arguments[1]),r(c,a))});x(this,this.a,!this.j);this.i=!0;var b=this.a.push,d=this;this.a.push=function(){var c=[].slice.call(arguments,0),
e=b.apply(d.a,c);x(d,c);return e}};t.prototype.get=function(a){var b=this.b;a=a.split(".");for(var d=0;d<a.length;d++){if(void 0===b[a[d]])return;b=b[a[d]]}return b};t.prototype.flatten=function(){this.a.splice(0,this.a.length);this.a[0]={};r(this.b,this.a[0])};t.prototype.registerProcessor=function(a,b){a in this.c||(this.c[a]=[]);this.c[a].push(b)};
function x(a,b,d){d=void 0===d?!1:d;for(a.f.push.apply(a.f,b);!1===a.g&&0<a.f.length;){b=a.f.shift();if("array"===k(b))a:{var c=a.b;"string"===k(b[0])||f("Error processing command, no command was run. The first argument must be of type string, but was of type "+(typeof b[0]+".\nThe command run was "+b),2);for(var e=b[0].split("."),m=e.pop(),n=b.slice(1),h=0;h<e.length;h++){if(void 0===c[e[h]]){f("Error processing command, no command was run as the object at "+(e+" was undefined.\nThe command run was "+
b),2);break a}c=c[e[h]]}try{c[m].apply(c,n)}catch(u){f("An exception was thrown by the method "+(m+", so no command was run.\nThe method was called on the data layer object at the location ")+(e+"."),3)}}else if("arguments"===k(b)){e=a;m=[];n=b[0];if(e.c[n])for(c=e.c[n].length,h=0;h<c;h++)m.push(e.c[n][h].apply(e.h,[].slice.call(b,1)));a.f.push.apply(a.f,m)}else if("function"==typeof b)try{b.call(a.h)}catch(u){f("An exception was thrown when running the method "+(b+", execution was skipped."),3),
f(u,3)}else if(p(b))for(var v in b)r(q(v,b[v]),a.b);else continue;d||(a.g=!0,a.l(a.b,b),a.g=!1)}}t.prototype.registerProcessor=t.prototype.registerProcessor;t.prototype.flatten=t.prototype.flatten;t.prototype.get=t.prototype.get;t.prototype.process=t.prototype.process;window.DataLayerHelper=t;function w(a){return{set:function(b,d){r(q(b,d),a.b)},get:function(b){return a.get(b)}}};})();
